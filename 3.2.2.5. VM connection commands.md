## 3.2.2.5. VM connection commands

You use virtctl connection commands to expose ports and connect to virtual machines (VMs) and virtual machine instances (VMIs).

Table 3.5. VM connection commands

| Command                                                                                                      | Description                                                                                                                                                                                         |
|--------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| virtctl console <vm\_name>                                                                                    | Connect to the serial console of a VM.                                                                                                                                                              |
| virtctl expose vm  <vm\_name> --name  <service\_name> --type  <ClusterIP|NodePort|LoadBa lancer> --port <port> | Create a service that forwards a designated port of a VM and expose the service on the specified port of the node. Example:  virtctl expose vm rhel9\_vm --name rhel9-ssh --type  NodePort --port 22 |
| virtctl scp -i <ssh\_key>  <file\_name>  <user\_name>@<vm\_name>                                                 | Copy a file from your machine to a VM. This command uses the private key of an SSH key pair. The VM must be configured with the public key.                                                         |
| virtctl scp -i <ssh\_key>  <user\_name@<vm\_name>: <file\_name> .                                                | Copy a file from a VM to your machine. This command uses the private key of an SSH key pair. The VM must be configured with the public key.                                                         |
| virtctl ssh -i <ssh\_key>  <user\_name>@<vm\_name>                                                              | Open an SSH connection with a VM. This command uses the private key of an SSH key pair. The VM must be configured with the public key.                                                              |
| virtctl vnc <vm\_name>                                                                                        | Connect to the VNC console of a VM.                                                                                                                                                                 |
|                                                                                                              | You must have  virt-viewer  installed.                                                                                                                                                              |
| virtctl vnc --proxy-only=true  <vm\_name>                                                                     | Display the port number and connect manually to a VM by using any viewer through the VNC connection.                                                                                                |
| virtctl vnc --port=<port- number> <vm\_name>                                                                  | Specify a port number to run the proxy on the specified port, if that port is available.                                                                                                            |
|                                                                                                              | If a port number is not specified, the proxy runs on a random port.                                                                                                                                 |

