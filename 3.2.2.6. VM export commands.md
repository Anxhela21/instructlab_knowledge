## 3.2.2.6. VM export commands

Use virtctl vmexport commands to create, download, or delete a volume exported from a VM, VM snapshot, or persistent volume claim (PVC). Certain manifests also contain a header secret, which grants access to the endpoint to import a disk image in a format that OpenShift Virtualization can use.

Table 3.6. VM export commands

| Command                                                                                                                        | Description                                                                                                                                                                                                                     |
|--------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| virtctl vmexport create  <vmexport\_name> -- vm|snapshot|pvc= <object\_name>                                                     | Create a  VirtualMachineExport  custom resource (CR) to export a volume from a VM, VM snapshot, or PVC. --vm : Exports the PVCs of a VM.                                                                                        |
| virtctl vmexport delete  <vmexport\_name>                                                                                       | --snapshot : Exports the PVCs contained in a  VirtualMachineSnapshot  CR. --pvc : Exports a PVC. Optional:  --ttl=1h  specifies the time to live. The default duration is 2 hours. Delete a  VirtualMachineExport  CR manually. |
| virtctl vmexport download  <vmexport\_name> --output= <output\_file> --volume= <volume\_name>                                     | Download the volume defined in a  VirtualMachineExport  CR. --output  specifies the file format. Example:  disk.img.gz . --volume  specifies the volume to download. This flag is optional if only one volume is available.     |
|                                                                                                                                | Optional:                                                                                                                                                                                                                       |
| virtctl vmexport download  <vmexport\_name> -- <vm|snapshot|pvc>= <object\_name> --output= <output\_file> --volume= <volume\_name> | Create a  VirtualMachineExport  CR and then download the volume defined in the CR.                                                                                                                                              |
| virtctl vmexport download  export --manifest                                                                                   | Retrieve the manifest for an existing export. The manifest does not include the header secret.                                                                                                                                  |
| virtctl vmexport download  export --manifest -- vm=example                                                                     | Create a VM export for a VM example, and retrieve the manifest. The manifest does not include the header secret.                                                                                                                |
| virtctl vmexport download  export --manifest -- snap=example                                                                   | Create a VM export for a VM snapshot example, and retrieve the manifest. The manifest does not include the header secret.                                                                                                       |

Table 3.7. VM memory dump commands

| Command                                                                                | Description                                                                                                                |
|----------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|
| virtctl vmexport download  export --manifest --include- secret                         | Retrieve the manifest for an existing export. The manifest includes the header secret.                                     |
| virtctl vmexport download  export --manifest --manifest- output-format=json            | Retrieve the manifest for an existing export in json format. The manifest does not include the header secret.              |
| virtctl vmexport download  export --manifest --include- secret -- output=manifest.yaml | Retrieve the manifest for an existing export. The manifest includes the header secret and writes it to the file specified. |

